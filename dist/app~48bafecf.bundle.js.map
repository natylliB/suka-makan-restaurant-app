{"version":3,"file":"app~48bafecf.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/views/pages/detail.js","webpack://restaurant-apps/./src/scripts/views/pages/favorite.js"],"sourcesContent":["import RestaurantAPI from '../../data/restaurant-api';\nimport UrlParser from '../../routes/url-parser';\nimport LoaderScreenControl from '../webcomponents/loader-screen-control';\nimport '../webcomponents/category-list';\nimport '../webcomponents/restaurant-menu';\nimport '../webcomponents/restaurant-review';\nimport '../webcomponents/favorite-button';\nimport Page from './page';\nimport FavoriteRestaurantIdb from '../../data/favorite-restaurant-idb';\n\nclass Detail extends Page {\n  async render() {\n    return '<div id=\"pageContent\" class=\"page-content\"></div>';\n  }\n\n  async afterRender() {\n    LoaderScreenControl.showLoader();\n\n    const url = UrlParser.parseActiveUrlWithoutCombiner();\n    const restaurant = await RestaurantAPI.restaurantDetail(url.id);\n    await this.#renderDetail(restaurant);\n\n    LoaderScreenControl.hideLoader();\n  }\n\n  async #renderDetail({\n    id,\n    name,\n    description,\n    city,\n    address,\n    pictureId,\n    categories,\n    menus,\n    rating,\n    customerReviews,\n  }) {\n    const pageContent = document.querySelector('#pageContent');\n\n    pageContent.innerHTML = `\n      <div class=\"restaurant-detail\">\n        <div class=\"restaurant-detail__cover\">\n          <img class=\"restaurant-detail__cover-img\" alt=\"Restoran: ${name}\"src=${RestaurantAPI.getImageSrc(pictureId, 'medium')}>\n          <favorite-button></favorite-button>\n        </div>\n        <h2 class=\"restaurant-detail__name\">${name}</h2>\n        <p class=\"restaurant-detail__rating\">Rating: ${Number(rating).toFixed(1)}</p>\n        <p class=\"restaurant-detail__city\">Kota: ${city}</p>\n        <p class=\"restaurant-detail__address\">Alamat: ${address}</p>\n        <category-list></category-list>\n        <p class=\"restaurant-detail__description\">${description}</p>\n        <restaurant-menu></restaurant-menu>\n        <restaurant-review></restaurant-review>\n      </div>\n    `;\n\n    const categoryList = document.querySelector('category-list');\n    categoryList.render(categories);\n\n    const restaurantMenu = document.querySelector('restaurant-menu');\n    restaurantMenu.render(menus);\n\n    const restaurantReview = document.querySelector('restaurant-review');\n    restaurantReview.render(customerReviews);\n\n    const favoriteButton = document.querySelector('favorite-button');\n    await favoriteButton.initialize({\n      restaurantId: id,\n      favoriteRestaurant: FavoriteRestaurantIdb,\n      favoriteCallback: async () => {\n        FavoriteRestaurantIdb.putRestaurant({\n          id,\n          name,\n          city,\n          pictureId,\n          rating,\n          description,\n        });\n      },\n      unfavoriteCallback: async () => {\n        FavoriteRestaurantIdb.deleteRestaurant(id);\n      },\n    });\n  }\n}\n\nexport default Detail;\n","import FavoriteRestaurantIdb from '../../data/favorite-restaurant-idb';\nimport '../webcomponents/restaurant-collection';\nimport LoaderScreenControl from '../webcomponents/loader-screen-control';\nimport Page from './page';\n\nclass Favorite extends Page {\n  async render() {\n    return `\n    <div id=\"pageContent\" class=\"page-content\">\n      <restaurant-collection></restaurant-collection>\n    </div>\n    `;\n  }\n\n  async afterRender() {\n    LoaderScreenControl.showLoader();\n\n    const restaurants = await FavoriteRestaurantIdb.getAllRestaurants();\n\n    const title = 'Restoran Favorit';\n\n    LoaderScreenControl.hideLoader();\n    const restaurantCollection = document.querySelector('restaurant-collection');\n    restaurantCollection.initialize(\n      restaurants,\n      title,\n      this.#handlerForCollectionItem,\n      { title: 'Tidak ada favorit!', text: 'Anda belum punya restoran favorit, ayo jelajah sekarang.' },\n    );\n  }\n\n  #handlerForCollectionItem = (itemId) => {\n    window.location.href = `#/detail/${itemId}`;\n  };\n}\n\nexport default Favorite;\n"],"names":["i","id","name","description","city","address","pictureId","categories","menus","rating","customerReviews","document","querySelector","innerHTML","RestaurantAPI","Number","toFixed","render","favoriteButton","initialize","restaurantId","favoriteRestaurant","FavoriteRestaurantIdb","favoriteCallback","unfavoriteCallback","LoaderScreenControl","url","UrlParser","restaurant","this","Page","itemId","window","location","href","restaurants","title","text"],"sourceRoot":""}